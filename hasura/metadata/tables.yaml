- table:
    schema: public
    name: address
  object_relationships:
    - name: groomer
      using:
        foreign_key_constraint_on: groomer_id
    - name: parent
      using:
        foreign_key_constraint_on: parent_id
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - groomer_id
          - id
          - parent_id
          - primary_address
          - city
          - country
          - state
          - street
          - street2
          - timezone
          - uuid
          - zipcode
          - latitude
          - longitude
          - created_at
          - updated_at
        filter: {}
    - role: groomer
      permission:
        columns:
          - groomer_id
          - id
          - parent_id
          - primary_address
          - city
          - country
          - state
          - street
          - street2
          - timezone
          - uuid
          - zipcode
          - latitude
          - longitude
          - created_at
          - updated_at
        filter:
          groomer_id:
            _eq: x-Hasura-groomer-id
    - role: parent
      permission:
        columns:
          - groomer_id
          - id
          - parent_id
          - primary_address
          - city
          - country
          - state
          - street
          - street2
          - timezone
          - uuid
          - zipcode
          - latitude
          - longitude
          - created_at
          - updated_at
        filter:
          parent_id:
            _eq: x-Hasura-parent-id
- table:
    schema: public
    name: booking
  object_relationships:
    - name: groomer
      using:
        foreign_key_constraint_on: groomer_id
    - name: parent
      using:
        foreign_key_constraint_on: parent_id
  array_relationships:
    - name: booking_pooches
      using:
        foreign_key_constraint_on:
          column: booking_id
          table:
            schema: public
            name: booking_pooches
    - name: transactions
      using:
        foreign_key_constraint_on:
          column: booking_id
          table:
            schema: public
            name: transaction
  select_permissions:
    - role: groomer
      permission:
        columns:
          - booking_cost
          - booking_fee
          - created_at
          - deleted
          - drop_off_date_time
          - end_date_time
          - groomer_id
          - id
          - parent_id
          - payment_method_bank
          - payment_method_brand
          - payment_method_id
          - payment_method_last4
          - payment_method_name
          - payment_method_type
          - payment_method_uuid
          - pick_up_date_time
          - start_date_time
          - status
          - stripe_fee
          - stripe_payment_intent_id
          - stripe_payment_method_id
          - total_amount
          - total_charge_at_booking
          - total_charge_at_drop_off
          - updated_at
          - uuid
        filter:
          groomer_id:
            _eq: x-Hasura-groomer-id
    - role: parent
      permission:
        columns:
          - booking_cost
          - booking_fee
          - created_at
          - deleted
          - drop_off_date_time
          - end_date_time
          - groomer_id
          - id
          - parent_id
          - payment_method_bank
          - payment_method_brand
          - payment_method_id
          - payment_method_last4
          - payment_method_name
          - payment_method_type
          - payment_method_uuid
          - pick_up_date_time
          - start_date_time
          - status
          - stripe_fee
          - stripe_payment_intent_id
          - stripe_payment_method_id
          - total_amount
          - total_charge_at_booking
          - total_charge_at_drop_off
          - updated_at
          - uuid
        filter:
          parent_id:
            _eq: x-Hasura-parent-id
- table:
    schema: public
    name: booking_pooches
  object_relationships:
    - name: booking
      using:
        foreign_key_constraint_on: booking_id
    - name: pooch
      using:
        foreign_key_constraint_on: pooch_id
  update_permissions:
    - role: groomer
      permission:
        columns:
          - booking_id
          - pooch_id
        filter:
          booking:
            groomer_id:
              _eq: x-Hasura-groomer-id
        check: null
    - role: parent
      permission:
        columns:
          - booking_id
          - pooch_id
        filter:
          booking:
            parent_id:
              _eq: x-Hasura-parent-id
        check: null
- table:
    schema: public
    name: care_service
  object_relationships:
    - name: groomer
      using:
        foreign_key_constraint_on: groomer_id
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - groomer_id
          - id
          - deleted
          - service_large
          - service_medium
          - service_small
          - name
          - uuid
          - large_price
          - medium_price
          - small_price
          - description
          - created_at
          - updated_at
        filter: {}
    - role: groomer
      permission:
        columns:
          - groomer_id
          - id
          - deleted
          - service_large
          - service_medium
          - service_small
          - name
          - uuid
          - large_price
          - medium_price
          - small_price
          - description
          - created_at
          - updated_at
        filter:
          groomer_id:
            _eq: x-Hasura-groomer-id
    - role: parent
      permission:
        columns:
          - groomer_id
          - id
          - deleted
          - service_large
          - service_medium
          - service_small
          - name
          - uuid
          - large_price
          - medium_price
          - small_price
          - description
          - created_at
          - updated_at
        filter: {}
- table:
    schema: public
    name: care_service_category
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - id
          - name
          - type
          - uuid
          - description
        filter: {}
    - role: groomer
      permission:
        columns:
          - id
          - name
          - type
          - uuid
          - description
        filter: {}
    - role: parent
      permission:
        columns:
          - id
          - name
          - type
          - uuid
          - description
        filter: {}
- table:
    schema: public
    name: chat
  object_relationships:
    - name: groomer
      using:
        foreign_key_constraint_on: groomer_id
    - name: parent
      using:
        foreign_key_constraint_on: parent_id
- table:
    schema: public
    name: groomer
  array_relationships:
    - name: addresses
      using:
        foreign_key_constraint_on:
          column: groomer_id
          table:
            schema: public
            name: address
    - name: bookings
      using:
        foreign_key_constraint_on:
          column: groomer_id
          table:
            schema: public
            name: booking
    - name: care_services
      using:
        foreign_key_constraint_on:
          column: groomer_id
          table:
            schema: public
            name: care_service
    - name: chats
      using:
        foreign_key_constraint_on:
          column: groomer_id
          table:
            schema: public
            name: chat
    - name: groomer_roles
      using:
        foreign_key_constraint_on:
          column: groomer_id
          table:
            schema: public
            name: groomer_roles
    - name: phone_number_verifications
      using:
        foreign_key_constraint_on:
          column: groomer_id
          table:
            schema: public
            name: phone_number_verification
    - name: s3files
      using:
        foreign_key_constraint_on:
          column: groomer_id
          table:
            schema: public
            name: s3file
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - business_name
          - charge_per_mile
          - close_time
          - country_code
          - created_at
          - deleted
          - description
          - email
          - email_temp
          - email_verified
          - first_name
          - id
          - instant_booking
          - last_name
          - listing
          - number_of_occupancy
          - offered_drop_off
          - offered_pick_up
          - open_time
          - phone_number
          - phone_number_verified
          - rating
          - sign_up_status
          - status
          - stripe_accept_card_payments
          - stripe_charges_enabled
          - stripe_connected_account_id
          - stripe_details_submitted
          - stripe_payouts_enabled
          - updated_at
          - uuid
        filter: {}
        limit: 1
    - role: groomer
      permission:
        columns:
          - business_name
          - charge_per_mile
          - close_time
          - country_code
          - created_at
          - deleted
          - description
          - email
          - email_temp
          - email_verified
          - first_name
          - id
          - instant_booking
          - last_name
          - listing
          - number_of_occupancy
          - offered_drop_off
          - offered_pick_up
          - open_time
          - phone_number
          - phone_number_verified
          - rating
          - sign_up_status
          - status
          - stripe_accept_card_payments
          - stripe_charges_enabled
          - stripe_connected_account_id
          - stripe_details_submitted
          - stripe_payouts_enabled
          - updated_at
          - uuid
        filter:
          id:
            _eq: x-Hasura-groomer-id
    - role: parent
      permission:
        columns:
          - business_name
          - charge_per_mile
          - close_time
          - country_code
          - created_at
          - deleted
          - description
          - email
          - email_temp
          - email_verified
          - first_name
          - id
          - instant_booking
          - last_name
          - listing
          - number_of_occupancy
          - offered_drop_off
          - offered_pick_up
          - open_time
          - phone_number
          - phone_number_verified
          - rating
          - sign_up_status
          - status
          - stripe_accept_card_payments
          - stripe_charges_enabled
          - stripe_connected_account_id
          - stripe_details_submitted
          - stripe_payouts_enabled
          - updated_at
          - uuid
        filter: {}
        limit: 1
- table:
    schema: public
    name: groomer_roles
  object_relationships:
    - name: groomer
      using:
        foreign_key_constraint_on: groomer_id
    - name: role
      using:
        foreign_key_constraint_on: role_id
- table:
    schema: public
    name: parent
  object_relationships:
    - name: phone_number_verification
      using:
        foreign_key_constraint_on: phone_pumber_verification_id
  array_relationships:
    - name: addresses
      using:
        foreign_key_constraint_on:
          column: parent_id
          table:
            schema: public
            name: address
    - name: bookings
      using:
        foreign_key_constraint_on:
          column: parent_id
          table:
            schema: public
            name: booking
    - name: chats
      using:
        foreign_key_constraint_on:
          column: parent_id
          table:
            schema: public
            name: chat
    - name: parent_roles
      using:
        foreign_key_constraint_on:
          column: parent_id
          table:
            schema: public
            name: parent_roles
    - name: payment_methods
      using:
        foreign_key_constraint_on:
          column: parent_id
          table:
            schema: public
            name: payment_method
    - name: phone_number_verifications
      using:
        foreign_key_constraint_on:
          column: parent_id
          table:
            schema: public
            name: phone_number_verification
    - name: pooches
      using:
        foreign_key_constraint_on:
          column: parent_id
          table:
            schema: public
            name: pooch
    - name: s3files
      using:
        foreign_key_constraint_on:
          column: parent_id
          table:
            schema: public
            name: s3file
  select_permissions:
    - role: parent
      permission:
        columns:
          - created_at
          - deleted
          - email
          - email_temp
          - email_verified
          - full_name
          - id
          - phone_number
          - phone_number_verified
          - status
          - stripe_customer_id
          - updated_at
          - uuid
        filter:
          id:
            _eq: x-Hasura-parent-id
- table:
    schema: public
    name: parent_roles
  object_relationships:
    - name: parent
      using:
        foreign_key_constraint_on: parent_id
    - name: role
      using:
        foreign_key_constraint_on: role_id
- table:
    schema: public
    name: payment_method
  object_relationships:
    - name: parent
      using:
        foreign_key_constraint_on: parent_id
  select_permissions:
    - role: parent
      permission:
        columns:
          - expiration_month
          - expiration_year
          - id
          - parent_id
          - deleted
          - brand
          - last4
          - name
          - source_token
          - stripe_id
          - type
          - uuid
          - created_at
          - updated_at
        filter:
          parent_id:
            _eq: x-Hasura-parent-id
        allow_aggregations: true
- table:
    schema: public
    name: phone_number_verification
  object_relationships:
    - name: groomer
      using:
        foreign_key_constraint_on: groomer_id
    - name: parent
      using:
        foreign_key_constraint_on: parent_id
  array_relationships:
    - name: parents
      using:
        foreign_key_constraint_on:
          column: phone_pumber_verification_id
          table:
            schema: public
            name: parent
- table:
    schema: public
    name: pooch
  object_relationships:
    - name: parent
      using:
        foreign_key_constraint_on: parent_id
  array_relationships:
    - name: booking_pooches
      using:
        foreign_key_constraint_on:
          column: pooch_id
          table:
            schema: public
            name: booking_pooches
    - name: pooch_food_schedules
      using:
        foreign_key_constraint_on:
          column: pooch_id
          table:
            schema: public
            name: pooch_food_schedule
    - name: vaccines
      using:
        foreign_key_constraint_on:
          column: pooch_id
          table:
            schema: public
            name: vaccine
  select_permissions:
    - role: groomer
      permission:
        columns:
          - id
          - parent_id
          - deleted
          - neutered
          - spayed
          - breed
          - full_name
          - gender
          - training
          - uuid
          - dob
          - weight
          - notes
          - created_at
          - updated_at
        filter:
          booking_pooches:
            booking:
              groomer_id:
                _eq: x-Hasura-groomer-id
    - role: parent
      permission:
        columns:
          - id
          - parent_id
          - deleted
          - neutered
          - spayed
          - breed
          - full_name
          - gender
          - training
          - uuid
          - dob
          - weight
          - notes
          - created_at
          - updated_at
        filter:
          parent_id:
            _eq: x-Hasura-parent-id
- table:
    schema: public
    name: pooch_food_schedule
  object_relationships:
    - name: pooch
      using:
        foreign_key_constraint_on: pooch_id
  select_permissions:
    - role: groomer
      permission:
        columns:
          - pooch_id
          - food_schedule
        filter:
          pooch:
            booking_pooches:
              booking:
                groomer_id:
                  _eq: x-Hasura-groomer-id
    - role: parent
      permission:
        columns:
          - pooch_id
          - food_schedule
        filter:
          pooch:
            parent_id:
              _eq: x-Hasura-parent-id
- table:
    schema: public
    name: review
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - groomer_id
          - id
          - parent_id
          - deleted
          - uuid
          - rating
          - description
          - created_at
          - updated_at
        filter: {}
    - role: groomer
      permission:
        columns:
          - groomer_id
          - id
          - parent_id
          - deleted
          - uuid
          - rating
          - description
          - created_at
          - updated_at
        filter:
          groomer_id:
            _eq: x-Hasura-groomer-id
    - role: parent
      permission:
        columns:
          - groomer_id
          - id
          - parent_id
          - deleted
          - uuid
          - rating
          - description
          - created_at
          - updated_at
        filter:
          parent_id:
            _eq: x-Hasura-parent-id
- table:
    schema: public
    name: roles
  array_relationships:
    - name: groomer_roles
      using:
        foreign_key_constraint_on:
          column: role_id
          table:
            schema: public
            name: groomer_roles
    - name: parent_roles
      using:
        foreign_key_constraint_on:
          column: role_id
          table:
            schema: public
            name: parent_roles
- table:
    schema: public
    name: s3file
  object_relationships:
    - name: groomer
      using:
        foreign_key_constraint_on: groomer_id
    - name: parent
      using:
        foreign_key_constraint_on: parent_id
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - groomer_id
          - id
          - parent_id
          - deleted
          - is_public
          - file_name
          - file_type
          - s3_key
          - uuid
          - url
          - created_at
          - updated_at
        filter: {}
    - role: groomer
      permission:
        columns:
          - groomer_id
          - id
          - parent_id
          - deleted
          - is_public
          - file_name
          - file_type
          - s3_key
          - uuid
          - url
          - created_at
          - updated_at
        filter:
          groomer_id:
            _eq: x-Hasura-groomer-id
    - role: parent
      permission:
        columns:
          - groomer_id
          - id
          - parent_id
          - deleted
          - is_public
          - file_name
          - file_type
          - s3_key
          - uuid
          - url
          - created_at
          - updated_at
        filter: {}
- table:
    schema: public
    name: transaction
  object_relationships:
    - name: booking
      using:
        foreign_key_constraint_on: booking_id
  select_permissions:
    - role: groomer
      permission:
        columns:
          - booking_id
          - cancel_user_id
          - id
          - deleted
          - cancel_user_type
          - description
          - type
          - uuid
          - amount
          - booking_cost
          - booking_fee
          - non_refunded_amount
          - refunded_amount
          - stripe_fee
          - created_at
          - updated_at
        filter:
          booking:
            groomer_id:
              _eq: x-Hasura-groomer-id
        allow_aggregations: true
    - role: parent
      permission:
        columns:
          - booking_id
          - cancel_user_id
          - id
          - deleted
          - cancel_user_type
          - description
          - type
          - uuid
          - amount
          - booking_cost
          - booking_fee
          - non_refunded_amount
          - refunded_amount
          - stripe_fee
          - created_at
          - updated_at
        filter:
          booking:
            parent_id:
              _eq: x-Hasura-parent-id
        allow_aggregations: true
- table:
    schema: public
    name: vaccine
  object_relationships:
    - name: pooch
      using:
        foreign_key_constraint_on: pooch_id
  select_permissions:
    - role: groomer
      permission:
        columns:
          - id
          - pooch_id
          - name
          - created_at
          - expire_date
          - updated_at
        filter:
          pooch:
            booking_pooches:
              booking:
                groomer_id:
                  _eq: x-Hasura-groomer-id
    - role: parent
      permission:
        columns:
          - id
          - pooch_id
          - name
          - created_at
          - expire_date
          - updated_at
        filter:
          pooch:
            parent:
              id:
                _eq: x-Hasura-parent-id
